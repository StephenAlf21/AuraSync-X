<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Main Menu</title>
  <script src="https://cdn.tailwindcss.com"></script>
   <link rel="icon" href="favicon.svg" type="image/svg+xml" />
  <link rel="shortcut icon" href="favicon.png" />
</head>
<body class="bg-gray-900 text-white flex flex-col items-center justify-center min-h-screen">

  <div id="mainMenu" class="space-y-4 text-center">
    <h1 class="text-4xl font-bold">Choose an App</h1>
    <button onclick="loadApp('MusicPlayer.html')"
            class="px-6 py-3 bg-indigo-600 hover:bg-indigo-500 rounded-lg">
      3D Music Visualizer
    </button>
    <button onclick="loadApp('VideoPlayer.html')"
            class="px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg">
      MP4 Video Player
    </button>
  </div>

  <iframe id="appFrame"
          src=""
          class="hidden absolute inset-0 w-full h-full border-0"
          allowfullscreen>
  </iframe>

  <script>
    function loadApp(path) {
      // Hide the main menu
      document.getElementById('mainMenu').classList.add('hidden');
      
      const iframe = document.getElementById('appFrame');
      
      // Set the source for the iframe
      iframe.src = path;

      // --- FIX IMPLEMENTED ---
      // This 'onload' event fires after the content of the iframe has completely loaded.
      iframe.onload = () => {
        // We access the document inside the iframe and get its title.
        // Then, we set the main window's title to match it.
        // This ensures the browser tab always shows the title of the currently active app.
        // This works because all files (index.html, MusicPlayer.html, etc.) are from the same origin.
        try {
          document.title = iframe.contentDocument.title;
        } catch (e) {
          console.error("Failed to update title from iframe. This can happen due to cross-origin restrictions.", e);
        }
      };
      
      // Show the iframe
      iframe.classList.remove('hidden');
    }
  </script>

</body>
</html>
